<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>James Nguyen's Website</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
  </head>
  <body>
    <div class="container is-fluid">
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
        <a class="navbar-item">
          <img src="logo.png">
        </a>
      </div>
      <div id="navBarMain" class="navbar-menu">
        <div class="navbar-start">
          <a class="navbar-item">
            About
          </a>
          <a class="navbar-item">
            Projects
          </a>
        </div>
    </nav>

  <section id="frame" class="section">
      <h1 id="greeting" class="title">
        Hello World! &#128075;
      </h1>
    <p> 
      Hey I'm James Nguyen, aspriring Computer Science student from Ho Chi Minh City &#127483;&#127475;. 
    </p>
  </section>

  <article class="message is-info">
    <div class="message-header">
      <p>About me</p>
      <button class="delete" aria-label="delete"></button>
    </div>
    <div class="message-body">
      I am Nguyen Thai Hoang Thinh (<strong>James Nguyen</strong>). I am a <strong>Computer Science</strong> enthusiast with
      immense interest towards how <strong>Artificial Intelligence</strong> can aide the <strong>Healthcare
      </strong> industry. I am also passionate about <strong>Arduinos</strong> and working with electronics, 
      I aim to use them to remedy inadequacies in Vietnam's current <strong>waste disposal</strong>
      practices.
    </div>
  </article>  
  </div>
  </body>

  <div class="img-frame" >
                    <img src="logo.png" id="propic1" class=propic>
                </div>
  
  <div class=funk>
            <div class="crazy-mode-toggler">
                <input type="checkbox" id="purple-toggler">
                <label for="purple-toggler" aria-label="Dancin">  </label>
            </div>
            <audio id="purple_audio">
                <source src="purple.mp3" type="audio/mpeg">
            </audio>
            <div id="pseudowarning">Spice it up? Turn your sound on.</div>
            <div id="warning" class="tab5">WARNING: May potentially trigger seizures for people with photosensitive epilepsy.</div>
        </div>



</html>
<script>
  function setCrazyEventListener(){
    document.getElementById("purple-toggler").addEventListener("change", getCrazy);
}

function getCrazy(){
    var checkbox = document.getElementById("purple-toggler");
    if (checkbox.checked){
        console.log("getting crazy");
        setPicByIndex(2);
        
        var purplebeats = document.getElementById("purple_audio"); 
        purplebeats.currentTime=0;
        purplebeats.play();
        // disco
        var bkColor = document.body.style.backgroundColor;
        flashPurple(0, bkColor);
        // disc
        document.getElementsByClassName("img-frame")[0].classList.add("twirl");
    }
    else{
        console.log("calming down");
        document.getElementsByClassName("img-frame")[0].classList.remove("twirl");
        document.getElementById("purple_audio").pause();
    }
}

function flashPurple(counter, bkColor){
    if (!document.getElementById("purple_audio").paused){// if (counter < 11000){
        var purples = ['#3c1361', '#52307c', '#663a82', '#7c5295', '#b491c8', '#bca0dc'];
        var index = Math.floor(Math.random()*purples.length)+1;
        document.body.style.backgroundColor = purples[index];
        counter++;    
        setTimeout(flashPurple.bind(null, counter, bkColor), 15);
    }
    else{
        document.body.style.background = bkColor;
        setPicByIndex(1);
        document.getElementsByClassName("img-frame")[0].classList.remove("twirl");
    }
}
  function cryptorender(element, timestep, groundtruth){
    if (timestep < 10){
        var ascii_low = 174;
        let ascii_high = 255;
        var random_string = "";
        var random_ascii;
        
        random_string = "";
        for (var i = 0; i< groundtruth.length;i++){
            random_ascii = Math.floor((Math.random() * (ascii_high - ascii_low)) + ascii_low);
            random_string+= String.fromCharCode(random_ascii);
        }
        element.innerHTML = random_string;
        timestep += 1;
        console.log(timestep);
        setTimeout(cryptorender.bind(null, element, timestep, groundtruth), 80);
    }
    else{
        element.innerHTML=groundtruth;
    }
}

  function main(){
    var element= document.getElementById("greeting"); 
    var groundtruth=element.innerHTML;
    cryptorender(element, 0, groundtruth); 

}

main();
</script>
